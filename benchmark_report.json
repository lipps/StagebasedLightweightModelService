{
  "timestamp": "2026-01-12T03:31:26.993549",
  "device": "cuda",
  "gpu_name": "NVIDIA GeForce RTX 5090",
  "results": [
    {
      "name": "~128tok",
      "category": "length_gradient",
      "text_count": 500,
      "batch_size": 64,
      "max_length": 256,
      "avg_tokens": 142.452,
      "total_time_ms": 452.903478872031,
      "tokenize_time_ms": 98.15639909356833,
      "encode_time_ms": 343.3187804184854,
      "throughput": 1103.9879871209298,
      "tokens_per_sec": 157265.29674135067,
      "avg_latency_ms": 0.905806957744062,
      "latencies": [
        108.00852626562119,
        50.66739907488227,
        53.60442493110895,
        47.72084392607212,
        49.70783507451415,
        48.42227417975664,
        51.11098475754261,
        43.596915900707245
      ],
      "memory_mb": 3274.57421875,
      "peak_memory_mb": 3501.58740234375,
      "dtype": "fp16"
    },
    {
      "name": "~256tok",
      "category": "length_gradient",
      "text_count": 400,
      "batch_size": 64,
      "max_length": 512,
      "avg_tokens": 283.04,
      "total_time_ms": 598.1162679381669,
      "tokenize_time_ms": 124.69627195969224,
      "encode_time_ms": 465.4726227745414,
      "throughput": 668.766294183712,
      "tokens_per_sec": 189287.61190575783,
      "avg_latency_ms": 1.4952906698454171,
      "latencies": [
        90.5534029006958,
        89.29641684517264,
        95.75992310419679,
        95.4174967482686,
        99.7462347149849,
        98.84794289246202,
        28.387447353452444
      ],
      "memory_mb": 3268.0166015625,
      "peak_memory_mb": 3738.283203125,
      "dtype": "fp16"
    },
    {
      "name": "~512tok",
      "category": "length_gradient",
      "text_count": 300,
      "batch_size": 32,
      "max_length": 768,
      "avg_tokens": 566.52,
      "total_time_ms": 973.7209449522197,
      "tokenize_time_ms": 203.20513099431992,
      "encode_time_ms": 764.2043423838913,
      "throughput": 308.0964844755608,
      "tokens_per_sec": 174542.82038509473,
      "avg_latency_ms": 3.2457364831740656,
      "latencies": [
        105.7161302305758,
        105.38930771872401,
        103.90754695981741,
        105.41106294840574,
        105.11468071490526,
        104.38610892742872,
        105.42736994102597,
        101.71206714585423,
        98.23292307555676,
        38.360388949513435
      ],
      "memory_mb": 3272.3388671875,
      "peak_memory_mb": 3756.6767578125,
      "dtype": "fp16"
    },
    {
      "name": "~1024tok",
      "category": "length_gradient",
      "text_count": 200,
      "batch_size": 32,
      "max_length": 1536,
      "avg_tokens": 1127.04,
      "total_time_ms": 1389.2193767242134,
      "tokenize_time_ms": 192.88425706326962,
      "encode_time_ms": 1192.8654150106013,
      "throughput": 143.96574317268815,
      "tokens_per_sec": 162255.15118534645,
      "avg_latency_ms": 6.946096883621067,
      "latencies": [
        217.5809987820685,
        211.3057761453092,
        218.2910772971809,
        228.16356178373098,
        226.88856534659863,
        226.57429473474622,
        60.36030501127243
      ],
      "memory_mb": 3277.244140625,
      "peak_memory_mb": 4288.67822265625,
      "dtype": "fp16"
    },
    {
      "name": "~2048tok",
      "category": "length_gradient",
      "text_count": 100,
      "batch_size": 16,
      "max_length": 2560,
      "avg_tokens": 2267.94,
      "total_time_ms": 1780.5934520438313,
      "tokenize_time_ms": 249.33501007035375,
      "encode_time_ms": 1527.6331934146583,
      "throughput": 56.16105118505085,
      "tokens_per_sec": 127369.89442462423,
      "avg_latency_ms": 17.805934520438313,
      "latencies": [
        291.35171277448535,
        282.4710728600621,
        279.3956068344414,
        282.53974206745625,
        280.51516879349947,
        286.12011997029185,
        78.13768228515983
      ],
      "memory_mb": 3278.2626953125,
      "peak_memory_mb": 4379.58935546875,
      "dtype": "fp16"
    },
    {
      "name": "~4096tok",
      "category": "length_gradient",
      "text_count": 50,
      "batch_size": 8,
      "max_length": 4608,
      "avg_tokens": 4418.74,
      "total_time_ms": 2041.3888460025191,
      "tokenize_time_ms": 212.15528016909957,
      "encode_time_ms": 1828.01200915128,
      "throughput": 24.493128831339906,
      "tokens_per_sec": 108228.76809219489,
      "avg_latency_ms": 40.82777692005038,
      "latencies": [
        337.22028508782387,
        323.6451749689877,
        323.28248023986816,
        323.1639009900391,
        323.35141114890575,
        324.595111887902,
        86.10351197421551
      ],
      "memory_mb": 3275.3310546875,
      "peak_memory_mb": 4536.689453125,
      "dtype": "fp16"
    },
    {
      "name": "B8",
      "category": "batch_scaling",
      "text_count": 500,
      "batch_size": 8,
      "max_length": 512,
      "avg_tokens": 284.008,
      "total_time_ms": 918.6415690928698,
      "tokenize_time_ms": 246.4888351969421,
      "encode_time_ms": 661.1633794382215,
      "throughput": 544.2819232464459,
      "tokens_per_sec": 154580.4204573766,
      "avg_latency_ms": 1.8372831381857395,
      "latencies": [
        14.865366742014885,
        14.31624824181199,
        14.708742965012789,
        14.95300093665719,
        14.948902186006308,
        14.89428710192442,
        15.172640793025494,
        14.472618699073792,
        14.970671851187944,
        15.029906295239925,
        14.310472179204226,
        14.92991205304861,
        14.960024040192366,
        14.56912187859416,
        14.774514827877283,
        14.592796098440886,
        14.747567009180784,
        15.13660978525877,
        14.04724782332778,
        14.553142245858908,
        14.278159011155367,
        14.13387292996049,
        14.81540035456419,
        14.775474090129137,
        15.12769516557455,
        14.597624074667692,
        14.905618038028479,
        14.832903165370226,
        14.91735689342022,
        14.27046861499548,
        14.38306225463748,
        14.209188986569643,
        13.930901885032654,
        14.02657013386488,
        14.278407208621502,
        14.119327999651432,
        14.28768690675497,
        14.65287571772933,
        15.13604773208499,
        14.307444915175438,
        14.688391704112291,
        15.154516790062189,
        15.179307665675879,
        14.516296330839396,
        14.746496919542551,
        14.949002303183079,
        14.809045940637589,
        14.667582232505083,
        14.934874139726162,
        14.594717882573605,
        14.73712595179677,
        14.435967896133661,
        14.492930378764868,
        14.253589790314436,
        17.013966105878353,
        14.436456840485334,
        14.213629998266697,
        14.968465082347393,
        14.389324001967907,
        14.413390774279833,
        14.355042949318886,
        14.680351130664349,
        8.924535941332579
      ],
      "memory_mb": 3260.521484375,
      "peak_memory_mb": 3321.1259765625,
      "dtype": "fp16"
    },
    {
      "name": "B16",
      "category": "batch_scaling",
      "text_count": 500,
      "batch_size": 16,
      "max_length": 512,
      "avg_tokens": 284.008,
      "total_time_ms": 793.4128646738827,
      "tokenize_time_ms": 200.12794667854905,
      "encode_time_ms": 586.4860857836902,
      "throughput": 630.1889246596921,
      "tokens_per_sec": 178978.69611474985,
      "avg_latency_ms": 1.5868257293477654,
      "latencies": [
        25.198370218276978,
        24.517813231796026,
        25.1328619197011,
        25.021086912602186,
        25.464676320552826,
        25.70503856986761,
        24.819296784698963,
        24.95713671669364,
        25.225690100342035,
        24.97965469956398,
        25.402775965631008,
        25.44904313981533,
        25.036952923983335,
        25.73000593110919,
        25.508990045636892,
        25.46884911134839,
        25.2551157027483,
        24.734546896070242,
        25.528150144964457,
        25.143349077552557,
        25.49967961385846,
        25.811810046434402,
        25.278043001890182,
        25.480360724031925,
        25.722898077219725,
        25.79526323825121,
        25.343710090965033,
        24.92227964103222,
        25.10423120111227,
        25.624876376241446,
        25.058244820684195,
        9.426768869161606
      ],
      "memory_mb": 3260.521484375,
      "peak_memory_mb": 3380.1005859375,
      "dtype": "fp16"
    },
    {
      "name": "B32",
      "category": "batch_scaling",
      "text_count": 500,
      "batch_size": 32,
      "max_length": 512,
      "avg_tokens": 284.008,
      "total_time_ms": 822.2637358121574,
      "tokenize_time_ms": 224.72073696553707,
      "encode_time_ms": 587.4479580670595,
      "throughput": 608.0774065831147,
      "tokens_per_sec": 172698.84808885722,
      "avg_latency_ms": 1.6445274716243148,
      "latencies": [
        50.138036254793406,
        50.490206107497215,
        50.11697672307491,
        49.803575966507196,
        50.26255501434207,
        50.89702596887946,
        52.64418385922909,
        53.72304981574416,
        53.79722686484456,
        53.30494977533817,
        54.518118035048246,
        52.926143165677786,
        52.93788714334369,
        58.0523437820375,
        53.27561916783452,
        35.25571711361408
      ],
      "memory_mb": 3270.220703125,
      "peak_memory_mb": 3500.85400390625,
      "dtype": "fp16"
    },
    {
      "name": "B64",
      "category": "batch_scaling",
      "text_count": 500,
      "batch_size": 64,
      "max_length": 512,
      "avg_tokens": 284.008,
      "total_time_ms": 794.1073970869184,
      "tokenize_time_ms": 200.61431033536792,
      "encode_time_ms": 583.4613963961601,
      "throughput": 629.6377565983973,
      "tokens_per_sec": 178822.15997599764,
      "avg_latency_ms": 1.5882147941738367,
      "latencies": [
        102.72398218512535,
        100.60930112376809,
        99.68134993687272,
        102.00766334310174,
        100.62001505866647,
        100.73989117518067,
        106.58069513738155,
        81.00559702143073
      ],
      "memory_mb": 3289.8251953125,
      "peak_memory_mb": 3739.48583984375,
      "dtype": "fp16"
    },
    {
      "name": "B128",
      "category": "batch_scaling",
      "text_count": 500,
      "batch_size": 128,
      "max_length": 512,
      "avg_tokens": 284.008,
      "total_time_ms": 774.4511389173567,
      "tokenize_time_ms": 168.4789010323584,
      "encode_time_ms": 596.0008893162012,
      "throughput": 645.6185224273471,
      "tokens_per_sec": 183360.825317546,
      "avg_latency_ms": 1.5489022778347135,
      "latencies": [
        197.16165913268924,
        200.38841105997562,
        199.00681916624308,
        177.63754772022367
      ],
      "memory_mb": 3329.1044921875,
      "peak_memory_mb": 4223.37548828125,
      "dtype": "fp16"
    },
    {
      "name": "短+中 (50/50)",
      "category": "mixed_distribution",
      "text_count": 300,
      "batch_size": 32,
      "max_length": 512,
      "avg_tokens": 177.25,
      "total_time_ms": 464.38180608674884,
      "tokenize_time_ms": 106.32838308811188,
      "encode_time_ms": 353.49041130393744,
      "throughput": 646.020141331632,
      "tokens_per_sec": 114507.07005103177,
      "avg_latency_ms": 1.5479393536224961,
      "latencies": [
        48.9894887432456,
        50.4670818336308,
        47.64405218884349,
        50.43807905167341,
        50.35742977634072,
        50.98184710368514,
        48.93643315881491,
        48.17784018814564,
        48.252224922180176,
        20.092577673494816
      ],
      "memory_mb": 3265.181640625,
      "peak_memory_mb": 3497.36279296875,
      "dtype": "fp16"
    },
    {
      "name": "中+长 (60/40)",
      "category": "mixed_distribution",
      "text_count": 300,
      "batch_size": 32,
      "max_length": 1536,
      "avg_tokens": 626.8066666666666,
      "total_time_ms": 2193.810151424259,
      "tokenize_time_ms": 353.37179573252797,
      "encode_time_ms": 1833.0807671882212,
      "throughput": 136.74838718620884,
      "tokens_per_sec": 85714.80074423028,
      "avg_latency_ms": 7.3127005047475295,
      "latencies": [
        228.7289542146027,
        227.4128207936883,
        235.67687906324863,
        236.10230116173625,
        237.14715288951993,
        234.0495428070426,
        237.45748307555914,
        237.44858987629414,
        236.82724870741367,
        82.77370594441891
      ],
      "memory_mb": 3284.8583984375,
      "peak_memory_mb": 4288.05322265625,
      "dtype": "fp16"
    },
    {
      "name": "短+中+长 (40/40/20)",
      "category": "mixed_distribution",
      "text_count": 300,
      "batch_size": 32,
      "max_length": 1536,
      "avg_tokens": 372.28333333333336,
      "total_time_ms": 2121.3797559030354,
      "tokenize_time_ms": 323.0102523230016,
      "encode_time_ms": 1791.9745212420821,
      "throughput": 141.41739552534528,
      "tokens_per_sec": 52647.33939749396,
      "avg_latency_ms": 7.071265853010118,
      "latencies": [
        219.4071882404387,
        235.98441621288657,
        225.28738621622324,
        221.04536229744554,
        226.63307189941406,
        231.5874989144504,
        231.33179871365428,
        214.22711107879877,
        231.98872059583664,
        83.74486118555069
      ],
      "memory_mb": 3285.7314453125,
      "peak_memory_mb": 4283.51416015625,
      "dtype": "fp16"
    },
    {
      "name": "FP16",
      "category": "precision",
      "text_count": 200,
      "batch_size": 32,
      "max_length": 512,
      "avg_tokens": 280.35,
      "total_time_ms": 344.3524041213095,
      "tokenize_time_ms": 100.60276463627815,
      "encode_time_ms": 239.01731707155704,
      "throughput": 580.8003591853635,
      "tokens_per_sec": 162827.38069761664,
      "avg_latency_ms": 1.7217620206065476,
      "latencies": [
        54.226767271757126,
        54.457366932183504,
        54.3311252258718,
        54.30847126990557,
        54.60432404652238,
        54.00871532037854,
        18.35661195218563
      ],
      "memory_mb": 3262.9306640625,
      "peak_memory_mb": 3496.67529296875,
      "dtype": "fp16"
    },
    {
      "name": "FP32",
      "category": "precision",
      "text_count": 200,
      "batch_size": 32,
      "max_length": 512,
      "avg_tokens": 280.35,
      "total_time_ms": 971.3597819209099,
      "tokenize_time_ms": 94.72738392651081,
      "encode_time_ms": 871.7532437294722,
      "throughput": 205.89693306479145,
      "tokens_per_sec": 57723.20518471428,
      "avg_latency_ms": 4.856798909604549,
      "latencies": [
        235.4781860485673,
        137.2549319639802,
        138.07503506541252,
        139.08114098012447,
        141.07499411329627,
        140.0288469158113,
        40.30281072482467
      ],
      "memory_mb": 3267.7275390625,
      "peak_memory_mb": 3735.10302734375,
      "dtype": "fp32"
    },
    {
      "name": "冷启动",
      "category": "startup",
      "text_count": 10,
      "batch_size": 10,
      "max_length": 512,
      "avg_tokens": 296.4,
      "total_time_ms": 28.39341200888157,
      "tokenize_time_ms": 6.2145632691681385,
      "encode_time_ms": 21.707556676119566,
      "throughput": 352.1943751202554,
      "tokens_per_sec": 104390.4127856437,
      "avg_latency_ms": 2.839341200888157,
      "latencies": [
        28.364735655486584
      ],
      "memory_mb": 3264.2568359375,
      "peak_memory_mb": 3326.9599609375,
      "dtype": "fp16"
    },
    {
      "name": "热启动",
      "category": "startup",
      "text_count": 10,
      "batch_size": 10,
      "max_length": 512,
      "avg_tokens": 296.4,
      "total_time_ms": 21.431980654597282,
      "tokenize_time_ms": 6.379058118909597,
      "encode_time_ms": 14.629345387220383,
      "throughput": 466.59243311023346,
      "tokens_per_sec": 138297.99717387318,
      "avg_latency_ms": 2.1431980654597282,
      "latencies": [
        21.400801837444305
      ],
      "memory_mb": 3264.2568359375,
      "peak_memory_mb": 3326.9599609375,
      "dtype": "fp16"
    },
    {
      "name": "压力测试汇总",
      "category": "pressure",
      "text_count": 2000,
      "batch_size": 32,
      "max_length": 512,
      "avg_tokens": 256,
      "total_time_ms": 1059.1564793139696,
      "tokenize_time_ms": 0,
      "encode_time_ms": 0,
      "throughput": 556.5673910991504,
      "tokens_per_sec": 142481.2521213825,
      "avg_latency_ms": 44.91637474275194,
      "latencies": [
        54.21102186664939,
        55.052568670362234,
        54.6981580555439,
        16.606030985713005,
        54.28159609436989,
        54.067798890173435,
        54.84495870769024,
        16.52662083506584,
        54.9913770519197,
        55.040108039975166,
        54.29392820224166,
        16.386691946536303,
        54.648663848638535,
        54.04990632086992,
        54.870812222361565,
        16.730625182390213,
        54.688096046447754,
        60.67450484260917,
        54.32868981733918,
        16.5962059982121,
        54.53324597328901,
        54.11384208127856,
        54.59590628743172,
        16.521288082003593,
        53.77047788351774,
        54.30427100509405,
        54.81223203241825,
        16.537228133529425,
        53.95035818219185,
        54.07053092494607,
        52.08049714565277,
        11.690862011164427,
        52.10876697674394,
        54.39470801502466,
        54.82551408931613,
        16.69931225478649,
        53.75075712800026,
        55.056304670870304,
        54.709835909307,
        16.560858115553856,
        54.06931275501847,
        54.89278119057417,
        54.62779896333814,
        16.489225905388594,
        54.854828864336014,
        54.65433141216636,
        54.899836890399456,
        16.969799995422363,
        54.673359263688326,
        55.843810085207224,
        54.486384615302086,
        16.51275297626853,
        54.55778678879142,
        54.30531455203891,
        54.03569387272,
        16.666239127516747,
        54.284715093672276,
        55.396520998328924,
        53.96351497620344,
        16.826107632368803,
        53.82593907415867,
        54.88036526367068,
        53.89118893072009,
        16.97904709726572,
        54.71153790131211,
        54.211422335356474,
        52.99261165782809,
        16.690365970134735,
        54.14329515770078,
        55.305199697613716,
        53.37273282930255,
        16.608136240392923,
        53.442579694092274,
        54.42790361121297,
        54.114439990371466,
        16.507017891854048,
        52.95782396569848,
        53.89508372172713,
        53.79041284322739,
        16.87759906053543
      ],
      "memory_mb": 0.0,
      "peak_memory_mb": 0.0,
      "dtype": "fp16"
    },
    {
      "name": "真实请求流",
      "category": "realworld",
      "text_count": 500,
      "batch_size": 16,
      "max_length": 2560,
      "avg_tokens": 228.954,
      "total_time_ms": 2203.2991340383887,
      "tokenize_time_ms": 0,
      "encode_time_ms": 0,
      "throughput": 226.93241797066324,
      "tokens_per_sec": 51957.08482405523,
      "avg_latency_ms": 4.4065982680767775,
      "latencies": [
        79.34229588136077,
        34.80864176526666,
        69.12851333618164,
        35.87580379098654,
        132.5177913531661,
        73.23986105620861,
        70.76120423153043,
        98.29979529604316,
        81.56258286908269,
        90.92020895332098,
        31.50811791419983,
        101.95571929216385,
        53.971813060343266,
        54.06049406155944,
        48.95715694874525,
        79.43489821627736,
        65.95995090901852,
        55.219105910509825,
        138.83719593286514,
        49.856673926115036,
        68.37229384109378,
        121.12364592030644,
        79.12194216623902,
        62.49403767287731,
        54.16386993601918,
        94.229765702039,
        105.83535209298134,
        28.332015965133905,
        34.6822920255363,
        34.78932334110141,
        56.65151635184884,
        17.10893213748932
      ],
      "memory_mb": 0.0,
      "peak_memory_mb": 0.0,
      "dtype": "fp16"
    }
  ],
  "safe_batch": [
    {
      "max_length": 512,
      "safe_batch": 460,
      "absolute_max": 512,
      "peak_memory_mb": 9663.091796875
    },
    {
      "max_length": 1024,
      "safe_batch": 460,
      "absolute_max": 512,
      "peak_memory_mb": 16578.091796875
    },
    {
      "max_length": 2048,
      "safe_batch": 345,
      "absolute_max": 384,
      "peak_memory_mb": 24263.095703125
    },
    {
      "max_length": 4096,
      "safe_batch": 151,
      "absolute_max": 168,
      "peak_memory_mb": 24709.220703125
    }
  ],
  "pressure_stats": {
    "min_ms": 11.690862011164427,
    "max_ms": 60.67450484260917,
    "avg_ms": 44.91637474275194,
    "p50_ms": 54.114439990371466,
    "p90_ms": 54.9913770519197,
    "p95_ms": 55.305199697613716,
    "p99_ms": 60.67450484260917,
    "std_ms": 16.603107581280934
  },
  "realworld_stats": {
    "min_ms": 17.10893213748932,
    "max_ms": 138.83719593286514,
    "avg_ms": 68.84758787055034,
    "p50_ms": 68.37229384109378,
    "p90_ms": 105.83535209298134,
    "p95_ms": 132.5177913531661,
    "p99_ms": 138.83719593286514,
    "std_ms": 30.449198950330697
  }
}